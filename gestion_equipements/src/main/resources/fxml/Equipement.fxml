<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.DatePicker?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.RowConstraints?>

<BorderPane style="-fx-background-color: linear-gradient(to bottom, #00BFFF, #1E90FF, #0000FF);" stylesheets="@/css/style.css" xmlns:fx="http://javafx.com/fxml/1" xmlns="http://javafx.com/javafx/23.0.1" fx:controller="main.controllers.Controllereq">

    <!-- Titre au centre -->
    <top>
        <HBox spacing="20" style="-fx-padding: 10px;">

            <!-- Logo à gauche avec une taille plus grande -->
            <ImageView fx:id="logo" fitHeight="160" fitWidth="160" pickOnBounds="true" preserveRatio="true">
                <image>
                    <Image url="@/images/logo.png" />
                </image>
            </ImageView>

            <!-- Espacement flexible entre le logo et le titre pour centrer le texte -->


            <!-- Titre centré -->
            <Label alignment="CENTER" style="-fx-font-size: 30px; -fx-font-family: 'Anton'; -fx-text-fill: #FFFFFF;" text="Gestion des Équipements" />

        </HBox>
    </top>


    <!-- Conteneur principal en HBox -->
    <center>
        <HBox alignment="CENTER" spacing="30" style="-fx-padding: 20px;">




        <!-- Formulaire à gauche -->
            <GridPane fx:id="gridPane" hgap="15" style="-fx-padding: 20px; -fx-background-color: #ffffff;                              -fx-border-color: #014aad; -fx-border-width: 3;" vgap="15">
                <Label style="-fx-text-fill: #014aad;" text="Nom :" GridPane.columnIndex="0" GridPane.rowIndex="0" />
                <TextField fx:id="name" GridPane.columnIndex="1" GridPane.rowIndex="0" />

                <Label style="-fx-text-fill: #014aad;" text="Description :" GridPane.columnIndex="0" GridPane.rowIndex="1" />
                <TextField fx:id="description" GridPane.columnIndex="1" GridPane.rowIndex="1" />

                <Label style="-fx-text-fill: #014aad;" text="Catégorie :" GridPane.columnIndex="0" GridPane.rowIndex="2" />
                <ComboBox fx:id="categoryComboBox" promptText="Sélectionner une catégorie" GridPane.columnIndex="1" GridPane.rowIndex="2" />

                <Label style="-fx-text-fill: #014aad;" text="Prix :" GridPane.columnIndex="0" GridPane.rowIndex="3" />
                <TextField fx:id="price" GridPane.columnIndex="1" GridPane.rowIndex="3" />

                <Label style="-fx-text-fill: #014aad;" text="Image URL :" GridPane.columnIndex="0" GridPane.rowIndex="4" />
                <HBox spacing="10" GridPane.columnIndex="1" GridPane.rowIndex="4">
                    <Button text="Parcourir" onAction="#handleUploadImage"/>
                    <TextField fx:id="image" promptText="Sélectionner une image" />
                </HBox>
                <Label style="-fx-text-fill: #014aad;" text="Disponibilité :" GridPane.columnIndex="0" GridPane.rowIndex="5" />
                <CheckBox fx:id="availability" GridPane.columnIndex="1" GridPane.rowIndex="5" />
                <Label style="-fx-text-fill: #014aad;" text="Date d'ajout :" GridPane.columnIndex="0" GridPane.rowIndex="6" />
                <DatePicker fx:id="dateAdded" GridPane.columnIndex="1" GridPane.rowIndex="6" />
                <Label style="-fx-text-fill: #014aad;" text="ID Partenaire :" GridPane.columnIndex="0" GridPane.rowIndex="7" />
                <TextField fx:id="partnerId" GridPane.columnIndex="1" GridPane.rowIndex="7" />
            <columnConstraints>
               <ColumnConstraints />
               <ColumnConstraints />
            </columnConstraints>
            <rowConstraints>
               <RowConstraints />
               <RowConstraints />
               <RowConstraints />
               <RowConstraints />
               <RowConstraints />
               <RowConstraints />
               <RowConstraints />
               <RowConstraints />
            </rowConstraints>
            </GridPane>

            <!-- TableView à droite -->
            <TableView fx:id="tableEquipements" prefHeight="300" prefWidth="600">
                <columns>
                    <TableColumn fx:id="colId" text="ID" />
                    <TableColumn fx:id="colNom" text="Nom" />
                    <TableColumn fx:id="colCategorie" text="Catégorie" />
                    <TableColumn fx:id="colPrix" text="Prix" />
                    <TableColumn fx:id="colDisponibilite" text="Disponibilité" />
                    <TableColumn fx:id="imageColumn" text="Image" />
                    <TableColumn fx:id="colDescription" text="Description"/>

                </columns>
            </TableView>

        </HBox>
    </center>

    <!-- Boutons centrés -->
    <bottom>
        <HBox alignment="CENTER" spacing="10" style="-fx-padding: 20px;">
            <Button fx:id="saveButton" onAction="#handleAdd" style="-fx-background-color: #D4FC2A; -fx-text-fill: black;" text="Ajouter" />
            <Button fx:id="btnModifier" onAction="#handleUpdate" style="-fx-background-color: #014AAD; -fx-text-fill: white;" text="Modifier" />
            <Button fx:id="btnSupprimer" onAction="#handleDelete" style="-fx-background-color: #00A859; -fx-text-fill: white;" text="Supprimer" />
            <Button onAction="#handleSortByPriceDesc" style="-fx-background-color: #FFFFFF; -fx-text-fill: black;" text="Prix Le plus Haut" />
            <Button onAction="#trierParPrixAscendant" style="-fx-background-color: #000000; -fx-text-fill: white;" text="Prix Le plus Bas" />
            <Button onAction="#openCategoryView" text="Ouvrir Catégories" />
            <HBox spacing="10">
                <TextField fx:id="searchField" promptText="Rechercher..."/>
                <Button text="Rechercher" onAction="#handleSearch"/>
                <Button fx:id="btnExportPDF" text="Exporter en PDF" onAction="#handleExportPDF"/>


            </HBox>








        </HBox>
    </bottom>

</BorderPane>

